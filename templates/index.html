<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Guider - Home</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e73df;
            --secondary-color: #f8f9fc;
            --accent-color: #36b9cc;
            --text-color: #5a5c69;
            --dark-color: #2e59d9;
            --success-color: #1cc88a;
            --warning-color: #f6c23e;
            --danger-color: #e74a3b;
        }
        
        body {
            padding-top: 70px;
            background-color: #f8f9fa;
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            color: var(--text-color);
        }
        
        /* Navbar Styles */
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color)) !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Sidebar Styles */
        #sidebar {
            height: calc(100% - 56px);
            width: 0;
            position: fixed;
            z-index: 1000;
            top: 56px;
            left: 0;
            background: linear-gradient(to bottom, #4e73df, #224abe);
            overflow-x: hidden;
            transition: 0.3s;
            padding-top: 20px;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.1);
        }
        
        #sidebar a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            display: block;
            transition: 0.2s;
            border-left: 3px solid transparent;
        }
        
        #sidebar a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-left: 3px solid #fff;
        }
        
        #sidebar a i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .main-content {
            transition: margin-left 0.3s;
        }
        
        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .content-section.active {
            display: block;
        }
        
        /* Card Styles */
        .card {
            margin-bottom: 20px;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            border: none;
            border-radius: 10px;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
        }
        
        /* Hero Section */
        .hero-section {
            background: linear-gradient(rgba(78, 115, 223, 0.85), rgba(78, 115, 223, 0.85)), url('https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 4rem 0;
            border-radius: 15px;
            margin-bottom: 2rem;
        }
        
        /* Feature Cards */
        .feature-card {
            text-align: center;
            padding: 2rem 1rem;
            border-radius: 10px;
            height: 100%;
            background: white;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        /* Button Styles */
        .btn-primary {
            background: linear-gradient(to right, var(--primary-color), var(--dark-color));
            border: none;
            border-radius: 30px;
            padding: 10px 25px;
            font-weight: 600;
        }
        
        .btn-primary:hover {
            background: linear-gradient(to right, var(--dark-color), var(--primary-color));
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Assessment Styles */
        .assessment-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question-card {
            margin-bottom: 20px;
            display: none;
        }
        
        .question-card.active {
            display: block;
        }
        
        .option-btn {
            text-align: left;
            margin-bottom: 10px;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            transition: all 0.3s;
            background: white;
            width: 100%;
            cursor: pointer;
        }
        
        .option-btn:hover {
            background-color: #f8f9fa;
            border-color: var(--primary-color);
        }
        
        .option-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .progress {
            height: 10px;
            margin-bottom: 20px;
        }
        
        /* Results Styles */
        .result-card {
            text-align: center;
            padding: 2rem;
        }
        
        .career-match {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }
        
        .career-field-icon {
            font-size: 2rem;
            margin-right: 10px;
            color: var(--primary-color);
        }
        
        .field-score {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--dark-color);
        }
        
        .results-visualization {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .field-bar {
            flex: 1;
            margin: 0 5px;
            text-align: center;
            min-width: 80px;
        }
        
        .bar-container {
            height: 200px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }
        
        .bar {
            width: 80%;
            background: linear-gradient(to top, var(--primary-color), var(--dark-color));
            border-radius: 5px 5px 0 0;
            transition: height 1s ease-in-out;
        }
        
        .field-label {
            margin-top: 10px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        /* Profile Styles */
        .profile-picture-container {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
        }
        
        .profile-picture {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-color);
        }
        
        .profile-picture-upload {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        /* Form Validation Styles */
        .is-invalid {
            border-color: var(--danger-color) !important;
        }
        
        .invalid-feedback {
            display: none;
            width: 100%;
            margin-top: 0.25rem;
            font-size: 0.875em;
            color: var(--danger-color);
        }
        
        .is-invalid ~ .invalid-feedback {
            display: block;
        }
        
        .form-message {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }
        
        .form-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .form-message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* Loading Spinner */
        .spinner-border {
            width: 1rem;
            height: 1rem;
        }
        
        /* User Status in Navbar */
        .user-status {
            display: none;
        }
        
        .user-status.logged-in {
            display: flex;
        }
        
        .user-status.logged-out {
            display: flex;
        }
        
        /* Password Visibility Toggle */
        .password-toggle {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
        }
        
        .password-input-group {
            position: relative;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .hero-section {
                padding: 2rem 0;
            }
            
            .feature-card {
                margin-bottom: 1rem;
            }
            
            .profile-picture-container {
                width: 120px;
                height: 120px;
            }
            
            .results-visualization {
                flex-direction: column;
            }
            
            .field-bar {
                margin: 10px 0;
            }
            
            .navbar .btn {
                padding: 5px 10px;
                font-size: 0.875rem;
            }
        }
        
        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        /* Form Styles */
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(78, 115, 223, 0.25);
        }
        
        /* Quiz Navigation Styles */
        .quiz-navigation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fc;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }
        
        .quiz-btn {
            margin: 5px;
            min-width: 150px;
        }
        
        /* Toast Notification */
        .toast-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1055;
        }
        
        .toast {
            background-color: white;
            border-left: 4px solid var(--primary-color);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        .toast.success {
            border-left-color: var(--success-color);
        }
        
        .toast.error {
            border-left-color: var(--danger-color);
        }
        
        /* Forgot Password Styles */
        .forgot-password-link {
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .password-strength {
            height: 5px;
            margin-top: 5px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .password-strength.weak {
            background-color: #e74a3b;
            width: 25%;
        }
        
        .password-strength.fair {
            background-color: #f6c23e;
            width: 50%;
        }
        
        .password-strength.good {
            background-color: #1cc88a;
            width: 75%;
        }
        
        .password-strength.strong {
            background-color: #1cc88a;
            width: 100%;
        }
        
        /* Help Button Styles */
        .help-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            border: none;
            border-radius: 30px;
            padding: 8px 20px;
            font-weight: 600;
            color: white;
            transition: all 0.3s;
        }
        
        .help-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            color: white;
        }
        
        /* Enhanced form validation styles */
        .form-control.is-invalid {
            border-color: var(--danger-color);
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23e74a3b'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 3.6.4.4.4-.4'/%3e%3cpath d='M6 7v1'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }
        
        .form-control.is-valid {
            border-color: var(--success-color);
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%231cc88a' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        /* Resource Cards */
        .resource-card {
            height: 100%;
            transition: all 0.3s;
            border-left: 4px solid var(--primary-color);
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .resource-list {
            list-style: none;
            padding-left: 0;
        }
        
        .resource-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .resource-list li:last-child {
            border-bottom: none;
        }
    </style>
</head>
<body>

<!-- Toast Notification Container -->
<div class="toast-container"></div>

<!-- Help Modal -->
<div class="modal fade help-modal" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalLabel"><i class="fas fa-question-circle me-2"></i> Career Guider Help</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h5>Welcome to Career Guider!</h5>
                <p>Here's how to use this platform:</p>
                <ul>
                    <li><strong>Register/Login:</strong> Create an account or login to save your progress</li>
                    <li><strong>Take Assessment:</strong> Complete our career interest assessment to discover your strengths</li>
                    <li><strong>Explore Careers:</strong> Browse career opportunities that match your profile</li>
                    <li><strong>Learning Resources:</strong> Access materials to develop skills for your chosen career</li>
                    <li><strong>Take Quizzes:</strong> After assessment, take specialized quizzes for your top career matches</li>
                </ul>
                <p>We're here to help you find your ideal career path!</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it!</button>
            </div>
        </div>
    </div>
</div>

<!-- Terms of Service Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsModalLabel">Terms of Service</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h6>1. Acceptance of Terms</h6>
                <p>By accessing and using Career Guider, you accept and agree to be bound by the terms and provision of this agreement.</p>
                
                <h6>2. Use License</h6>
                <p>Permission is granted to temporarily use Career Guider for personal, non-commercial transitory viewing only.</p>
                
                <h6>3. Disclaimer</h6>
                <p>The materials on Career Guider are provided on an 'as is' basis. Career Guider makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.</p>
                
                <h6>4. Limitations</h6>
                <p>In no event shall Career Guider or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Career Guider's website.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Privacy Policy Modal -->
<div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="privacyModalLabel">Privacy Policy</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h6>1. Information We Collect</h6>
                <p>We collect information you provide directly to us, such as when you create an account, complete assessments, or contact us for support.</p>
                
                <h6>2. How We Use Your Information</h6>
                <p>We use the information we collect to provide, maintain, and improve our services, to develop new ones, and to protect Career Guider and our users.</p>
                
                <h6>3. Information Sharing</h6>
                <p>We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information.</p>
                
                <h6>4. Data Security</h6>
                <p>We implement a variety of security measures to maintain the safety of your personal information when you enter, submit, or access your personal information.</p>
                
                <h6>5. Your Rights</h6>
                <p>You have the right to access, correct, or delete your personal data. You can do this by accessing your account settings or by contacting us directly.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Top Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3 fixed-top shadow">
    <button class="btn btn-outline-light me-3" id="menuBtn">
        <i class="fas fa-bars"></i>
    </button>
    <a class="navbar-brand fw-bold" href="#">
        <i class="fas fa-graduation-cap me-2"></i>Career Guider
    </a>
    <div class="ms-auto d-flex align-items-center">
        <div class="user-status logged-out">
            <button class="btn help-btn me-2" id="helpBtn" data-bs-toggle="modal" data-bs-target="#helpModal">
                <i class="fas fa-question-circle me-1"></i> Help
            </button>
            <button class="btn btn-success me-2" onclick="loadContent('login')">
                <i class="fas fa-sign-in-alt me-1"></i> Login
            </button>
            <button class="btn btn-primary me-2" onclick="loadContent('register')">
                <i class="fas fa-user-plus me-1"></i> Register
            </button>
        </div>
        <div class="user-status logged-in">
            <button class="btn help-btn me-2" id="helpBtnLoggedIn" data-bs-toggle="modal" data-bs-target="#helpModal">
                <i class="fas fa-question-circle me-1"></i> Help
            </button>
            <button class="btn btn-outline-light me-2" onclick="loadContent('profile')" title="Profile">
                <i class="fas fa-user me-1"></i> <span id="navbar-user-name">Profile</span>
            </button>
            <button class="btn btn-outline-light" onclick="logout()">
                <i class="fas fa-sign-out-alt me-1"></i> Logout
            </button>
        </div>
    </div>
</nav>

<!-- Sidebar -->
<div id="sidebar">
    <a href="#" onclick="loadContent('welcome-content')">
        <i class="fas fa-home"></i> Home
    </a>
    <a href="#" onclick="loadContent('about')">
        <i class="fas fa-info-circle"></i> About Career Guider
    </a>
    <a href="#" onclick="loadContent('interests')">
        <i class="fas fa-brain"></i> Know Your Interests
    </a>
    <a href="#" onclick="loadContent('opportunities')">
        <i class="fas fa-briefcase"></i> Career Opportunities
    </a>
    <a href="#" onclick="loadContent('resources')">
        <i class="fas fa-book-open"></i> Learning Resources
    </a>
    <a href="#" onclick="loadContent('contact')">
        <i class="fas fa-envelope"></i> Contact Us
    </a>
</div>

<!-- Main Content -->
<div class="container mt-5 pt-5 main-content" id="main-content">
    <!-- Welcome Content -->
    <div class="p-5 bg-white rounded shadow content-section active" id="welcome-content">
        <div class="hero-section text-center rounded">
            <h1 class="display-4 fw-bold">Welcome to Career Guider</h1>
            <p class="lead">Discover your potential, explore career paths, and shape your future</p>
            <button class="btn btn-light btn-lg mt-3" id="getStartedBtn">
                Get Started <i class="fas fa-arrow-right ms-2"></i>
            </button>
        </div>
        
        <div class="row mt-5">
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Discover Your Interests</h3>
                    <p>Take our assessment to uncover your strengths and interests to find the perfect career match.</p>
                    <button class="btn btn-primary mt-2" onclick="startAssessment()">Start Assessment</button>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-road"></i>
                    </div>
                    <h3>Explore Career Paths</h3>
                    <p>Explore various career options that match your profile with detailed information and requirements.</p>
                    <button class="btn btn-primary mt-2" onclick="loadContent('opportunities')">Explore Careers</button>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>Learning Resources</h3>
                    <p>Access resources to develop skills for your chosen career with our curated learning materials.</p>
                    <button class="btn btn-primary mt-2" onclick="loadContent('resources')">View Resources</button>
                </div>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4 class="mb-0">Your Next Steps</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>Complete Your Profile</h5>
                                <div class="progress mb-3">
                                    <div class="progress-bar" role="progressbar" style="width: 65%" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <p>Add more details to get personalized recommendations</p>
                                <button class="btn btn-sm btn-outline-primary" onclick="loadContent('profile')">Update Profile</button>
                            </div>
                            <div class="col-md-6">
                                <h5>Career Assessment</h5>
                                <p>Take our assessment to discover careers that match your interests</p>
                                <button class="btn btn-primary" onclick="startAssessment()">Start Assessment</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- About Section -->
    <div id="about" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-info-circle me-2"></i>About Career Guider</h2>
            <p>Career Guider is a comprehensive platform designed to help students discover their interests and explore potential career paths. Our system provides personalized recommendations based on your skills, interests, and goals.</p>
            
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Our Mission</div>
                        <div class="card-body">
                            <p>To empower students with the knowledge and tools they need to make informed decisions about their future careers.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Our Vision</div>
                        <div class="card-body">
                            <p>A world where every student can find a career path that aligns with their passions and strengths.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <h4>How It Works</h4>
                <div class="row mt-3">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">
                                    <i class="fas fa-user-plus"></i>
                                </div>
                                <h5>1. Create Account</h5>
                                <p>Register and build your profile with your interests and skills</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                                <h5>2. Take Assessment</h5>
                                <p>Complete our interest and skills assessment</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h5>3. Get Matches</h5>
                                <p>Receive personalized career recommendations</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Interests Section -->
    <div id="interests" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-brain me-2"></i>Know Your Interests</h2>
            <p>Understanding your interests is the first step toward finding a fulfilling career. Our assessment tool helps you identify what you're passionate about and what careers align with those passions.</p>
            
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Interest Assessment</div>
                        <div class="card-body">
                            <h5 class="card-title">Discover Your Strengths</h5>
                            <p class="card-text">Our comprehensive assessment evaluates your interests across multiple dimensions to provide personalized career recommendations.</p>
                            <button class="btn btn-primary" onclick="startAssessment()">Take Assessment</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">Career Fields</div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><i class="fas fa-cogs me-2 text-primary"></i> Engineering: Technical problem-solving</li>
                                <li class="list-group-item"><i class="fas fa-user-md me-2 text-primary"></i> Medical: Healthcare and medicine</li>
                                <li class="list-group-item"><i class="fas fa-gavel me-2 text-primary"></i> Law: Legal and justice system</li>
                                <li class="list-group-item"><i class="fas fa-shield-alt me-2 text-primary"></i> Defence: National security and military</li>
                                <li class="list-group-item"><i class="fas fa-tractor me-2 text-primary"></i> Agriculture: Farming and food production</li>
                                <li class="list-group-item"><i class="fas fa-running me-2 text-primary"></i> Sports: Athletic and physical activities</li>
                                <li class="list-group-item"><i class="fas fa-film me-2 text-primary"></i> Entertainment: Media and performing arts</li>
                                <li class="list-group-item"><i class="fas fa-graduation-cap me-2 text-primary"></i> Academics: Education and research</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Comprehensive Assessment Container (initially hidden) -->
            <div id="comprehensive-assessment-container" class="assessment-container mt-4" style="display: none;">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Career Interest Assessment</h5>
                        <span id="question-counter">Question 1 of 25</span>
                    </div>
                    <div class="card-body">
                        <div class="progress">
                            <div class="progress-bar" id="assessment-progress" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        
                        <!-- Questions will be dynamically inserted here -->
                        <div id="questions-container"></div>
                        
                        <div class="d-flex justify-content-between mt-3">
                            <button class="btn btn-secondary" id="prev-btn" style="display: none;" onclick="prevQuestion()">Previous</button>
                            <button class="btn btn-primary ms-auto" id="next-btn" onclick="nextQuestion()">Next</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Results Section (initially hidden) -->
            <div id="assessment-results" class="mt-4" style="display: none;">
                <div class="card">
                    <div class="card-header text-center">
                        <h3 class="mb-0">Your Career Assessment Results</h3>
                    </div>
                    <div class="card-body">
                        <p class="text-center">Based on your answers, here are your interest levels in each career field:</p>
                        
                        <!-- Results Visualization -->
                        <div class="results-visualization" id="results-visualization">
                            <!-- Bars will be dynamically generated -->
                        </div>
                        
                        <div id="results-container"></div>
                        
                        <!-- Quiz Navigation Section -->
                        <div id="quiz-navigation" class="quiz-navigation" style="display: none;">
                            <h5 class="text-center">Take a specialized quiz for your top career interest:</h5>
                            <div class="d-flex flex-wrap justify-content-center mt-3" id="quiz-buttons-container">
                                <!-- Quiz buttons will be dynamically generated here -->
                            </div>
                        </div>
                        
                        <div class="text-center mt-4">
                            <button class="btn btn-primary me-2" onclick="loadContent('opportunities')">Explore Career Opportunities</button>
                            <button class="btn btn-outline-secondary" onclick="resetAssessment()">Retake Assessment</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Opportunities Section -->
    <div id="opportunities" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-briefcase me-2"></i>Career Opportunities</h2>
            <p>Explore various career paths based on current market trends and future projections. We provide information on educational requirements, salary ranges, and growth potential for each career.</p>
            
            <div class="row mt-4">
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Engineering</div>
                        <div class="card-body">
                            <h5 class="card-title">Technical Problem-Solving Careers</h5>
                            <p class="card-text">Civil Engineering, Mechanical Engineering, Software Engineering, Electrical Engineering</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-success">High Demand</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('engineering')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Medical</div>
                        <div class="card-body">
                            <h5 class="card-title">Healthcare Professions</h5>
                            <p class="card-text">General Physician, Surgeon, Pediatrician, Cardiologist, Neurologist</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-success">High Prestige</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('medical')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Law</div>
                        <div class="card-body">
                            <h5 class="card-title">Legal Careers</h5>
                            <p class="card-text">Corporate Lawyer, Criminal Lawyer, Judge, Legal Advisor, Public Prosecutor</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-info">Respected Profession</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('law')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Defence</div>
                        <div class="card-body">
                            <h5 class="card-title">National Security Careers</h5>
                            <p class="card-text">Army Officer, Navy Officer, Air Force Pilot, Defence Scientist, Intelligence Analyst</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-warning">Patriotic Service</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('defence')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Agriculture</div>
                        <div class="card-body">
                            <h5 class="card-title">Food Production Careers</h5>
                            <p class="card-text">Agricultural Scientist, Farm Manager, Horticulturist, Agribusiness, Food Technologist</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-success">Essential Industry</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('agriculture')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Sports</div>
                        <div class="card-body">
                            <h5 class="card-title">Athletic and Fitness Careers</h5>
                            <p class="card-text">Professional Athlete, Coach, Sports Medicine, Sports Management, Fitness Trainer</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-success">Active Lifestyle</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('sports')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Entertainment</div>
                        <div class="card-body">
                            <h5 class="card-title">Media and Arts Careers</h5>
                            <p class="card-text">Actor, Director, Musician, Producer, Screenwriter, Film Editor</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-info">Creative Field</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('entertainment')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card">
                        <div class="card-header">Academics</div>
                        <div class="card-body">
                            <h5 class="card-title">Education and Research Careers</h5>
                            <p class="card-text">Professor, Researcher, Academic Administrator, Curriculum Developer, Educational Consultant</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-info">Knowledge Field</span>
                                <button class="btn btn-sm btn-outline-primary" onclick="showCareerDetails('academics')">Explore</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Career Details (initially hidden) -->
            <div id="career-details" style="display: none;">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0" id="career-title">Career Details</h5>
                        <button class="btn btn-sm btn-outline-secondary" onclick="hideCareerDetails()">Close</button>
                    </div>
                    <div class="card-body" id="career-info">
                        <!-- Career details will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Contact Section -->
    <div id="contact" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-envelope me-2"></i>Contact Us</h2>
            <p>Have questions or need assistance? Reach out to our team for support.</p>
            
            <div class="row mt-4">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">Send us a Message</div>
                        <div class="card-body">
                            <form id="contact-form">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Your Name</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="subject" class="form-label">Subject</label>
                                    <input type="text" class="form-control" id="subject" required>
                                </div>
                                <div class="mb-3">
                                    <label for="message" class="form-label">Message</label>
                                    <textarea class="form-control" id="message" rows="5" required></textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Send Message</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">Contact Information</div>
                        <div class="card-body">
                            <p><i class="fas fa-map-marker-alt me-2 text-primary"></i> 123 Education Street, City, Country</p>
                            <p><i class="fas fa-phone me-2 text-primary"></i> +1 (555) 123-4567</p>
                            <p><i class="fas fa-envelope me-2 text-primary"></i> info@careerguider.com</p>
                            <hr>
                            <h6>Office Hours</h6>
                            <p>Monday - Friday: 9:00 AM - 6:00 PM</p>
                            <p>Saturday: 10:00 AM - 2:00 PM</p>
                            <p>Sunday: Closed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login Section -->
    <div id="login" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3 class="mb-0"><i class="fas fa-sign-in-alt me-2"></i>Login to Your Account</h3>
                        </div>
                        <div class="card-body">
                            <form id="login-form">
                                <div class="mb-3">
                                    <label for="login-email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="login-email" required>
                                </div>
                                <div class="mb-3 password-input-group">
                                    <label for="login-password" class="form-label">Password</label>
                                    <input type="password" class="form-control" id="login-password" required>
                                    <span class="password-toggle" onclick="togglePasswordVisibility('login-password', this)">
                                        <i class="fas fa-eye"></i>
                                    </span>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="remember-me">
                                    <label class="form-check-label" for="remember-me">Remember me</label>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary">Login</button>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="#" class="forgot-password-link" onclick="loadContent('forgot-password')">Forgot your password?</a>
                                </div>
                                <div class="text-center mt-3">
                                    <p>Don't have an account? <a href="#" onclick="loadContent('register')">Register here</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Register Section -->
    <div id="register" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3 class="mb-0"><i class="fas fa-user-plus me-2"></i>Create Your Account</h3>
                        </div>
                        <div class="card-body">
                            <form id="register-form">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="first-name" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="first-name" required>
                                        <div class="invalid-feedback">Please provide your first name.</div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="last-name" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="last-name" required>
                                        <div class="invalid-feedback">Please provide your last name.</div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="register-email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="register-email" required>
                                    <div class="invalid-feedback">Please provide a valid email address.</div>
                                </div>
                                <div class="mb-3 password-input-group">
                                    <label for="register-password" class="form-label">Password *</label>
                                    <input type="password" class="form-control" id="register-password" required minlength="6">
                                    <span class="password-toggle" onclick="togglePasswordVisibility('register-password', this)">
                                        <i class="fas fa-eye"></i>
                                    </span>
                                    <div class="password-strength mt-1" id="password-strength"></div>
                                    <div class="invalid-feedback">Password must be at least 6 characters long.</div>
                                </div>
                                <div class="mb-3 password-input-group">
                                    <label for="confirm-password" class="form-label">Confirm Password *</label>
                                    <input type="password" class="form-control" id="confirm-password" required>
                                    <span class="password-toggle" onclick="togglePasswordVisibility('confirm-password', this)">
                                        <i class="fas fa-eye"></i>
                                    </span>
                                    <div class="invalid-feedback">Passwords do not match.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="education-level" class="form-label">Current Education Level *</label>
                                    <select class="form-select" id="education-level" required>
                                        <option value="" selected disabled>Select your education level</option>
                                        <option value="high-school">High School</option>
                                        <option value="undergraduate">Undergraduate</option>
                                        <option value="graduate">Graduate</option>
                                        <option value="postgraduate">Postgraduate</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <div class="invalid-feedback">Please select your education level.</div>
                                </div>
                                <div class="mb-3">
                                    <label for="interests" class="form-label">Areas of Interest (select up to 3)</label>
                                    <select class="form-select" id="interests" multiple>
                                        <option value="engineering">Engineering</option>
                                        <option value="medical">Medical</option>
                                        <option value="law">Law</option>
                                        <option value="defence">Defence</option>
                                        <option value="agriculture">Agriculture</option>
                                        <option value="sports">Sports</option>
                                        <option value="entertainment">Entertainment</option>
                                        <option value="academics">Academics</option>
                                    </select>
                                    <div class="form-text">Hold Ctrl (or Cmd on Mac) to select multiple options.</div>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="terms" required>
                                    <label class="form-check-label" for="terms">I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of Service</a> and <a href="#" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a></label>
                                    <div class="invalid-feedback">You must agree to the terms and conditions.</div>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary" id="create-account-btn">Create Account</button>
                                </div>
                                <div class="text-center mt-3">
                                    <p>Already have an account? <a href="#" onclick="loadContent('login')">Login here</a></p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Profile Section -->
    <div id="profile" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-user me-2"></i>Your Profile</h2>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header text-center">Profile Picture</div>
                        <div class="card-body text-center">
                            <div class="profile-picture-container">
                                <img src="https://via.placeholder.com/150" alt="Profile" class="profile-picture" id="profile-picture">
                                <div class="profile-picture-upload" onclick="document.getElementById('profile-picture-input').click()">
                                    <i class="fas fa-camera"></i>
                                </div>
                                <input type="file" id="profile-picture-input" accept="image/*" style="display: none;" onchange="updateProfilePicture(event)">
                            </div>
                            <h5 id="profile-name">Loading...</h5>
                            <p id="profile-email">Loading...</p>
                        </div>
                    </div>
                    
                    <div class="card mt-4">
                        <div class="card-header">Account Status</div>
                        <div class="card-body">
                            <p><strong>Member since:</strong> <span id="member-since">Loading...</span></p>
                            <p><strong>Last login:</strong> <span id="last-login">Loading...</span></p>
                            <p><strong>Profile completion:</strong></p>
                            <div class="progress mb-3">
                                <div class="progress-bar" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75%</div>
                            </div>
                            <button class="btn btn-sm btn-outline-primary w-100" onclick="loadContent('edit-profile')">Complete Profile</button>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">Personal Information</div>
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col-sm-3"><strong>Full Name:</strong></div>
                                <div class="col-sm-9" id="profile-fullname">Loading...</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-3"><strong>Email:</strong></div>
                                <div class="col-sm-9" id="profile-email-info">Loading...</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-3"><strong>Education Level:</strong></div>
                                <div class="col-sm-9" id="profile-education">Loading...</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-3"><strong>Interests:</strong></div>
                                <div class="col-sm-9" id="profile-interests">Loading...</div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-sm-3"><strong>Assessment Taken:</strong></div>
                                <div class="col-sm-9">
                                    <span class="badge bg-success" id="assessment-status">Completed</span>
                                    <button class="btn btn-sm btn-outline-primary ms-2" onclick="loadContent('interests')">View Results</button>
                                </div>
                            </div>
                            <div class="text-end">
                                <button class="btn btn-primary" onclick="loadContent('edit-profile')">Edit Profile</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-4">
                        <div class="card-header">Career Recommendations</div>
                        <div class="card-body">
                            <p>Based on your assessment results, here are your top career matches:</p>
                            <div id="profile-career-matches">
                                <!-- Career matches will be dynamically loaded -->
                                <div class="text-center py-4">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <p class="mt-2">Loading career recommendations...</p>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-outline-primary" onclick="loadContent('opportunities')">Explore More Careers</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Profile Section -->
    <div id="edit-profile" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-user-edit me-2"></i>Edit Profile</h2>
            
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-header">Update Your Information</div>
                        <div class="card-body">
                            <form id="edit-profile-form">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-first-name" class="form-label">First Name</label>
                                        <input type="text" class="form-control" id="edit-first-name" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="edit-last-name" class="form-label">Last Name</label>
                                        <input type="text" class="form-control" id="edit-last-name" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="edit-email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="edit-email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="edit-education-level" class="form-label">Current Education Level</label>
                                    <select class="form-select" id="edit-education-level" required>
                                        <option value="high-school">High School</option>
                                        <option value="undergraduate">Undergraduate</option>
                                        <option value="graduate">Graduate</option>
                                        <option value="postgraduate">Postgraduate</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="edit-interests" class="form-label">Areas of Interest (select up to 3)</label>
                                    <select class="form-select" id="edit-interests" multiple>
                                        <option value="engineering">Engineering</option>
                                        <option value="medical">Medical</option>
                                        <option value="law">Law</option>
                                        <option value="defence">Defence</option>
                                        <option value="agriculture">Agriculture</option>
                                        <option value="sports">Sports</option>
                                        <option value="entertainment">Entertainment</option>
                                        <option value="academics">Academics</option>
                                        <option value="technology">Technology</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="edit-bio" class="form-label">Bio</label>
                                    <textarea class="form-control" id="edit-bio" rows="3" placeholder="Tell us about yourself..."></textarea>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary" onclick="loadContent('profile')">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Forgot Password - Step 1: Request OTP -->
    <div id="forgot-password" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3 class="mb-0"><i class="fas fa-key me-2"></i>Reset Your Password</h3>
                        </div>
                        <div class="card-body">
                            <p class="text-center">Enter your email address and we'll send you a One-Time Password (OTP) to reset your password.</p>
                            <form id="forgot-password-form">
                                <div class="mb-3">
                                    <label for="reset-email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="reset-email" required>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary" id="send-otp-btn">
                                        Send OTP
                                    </button>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="#" onclick="loadContent('login')">Back to Login</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password - Step 2: Verify OTP -->
    <div id="verify-otp" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3 class="mb-0"><i class="fas fa-shield-alt me-2"></i>Verify OTP</h3>
                        </div>
                        <div class="card-body">
                            <p class="text-center">We've sent a 6-digit OTP to your email. Please enter it below.</p>
                            <form id="verify-otp-form">
                                <input type="hidden" id="otp-user-id">
                                <div class="mb-3">
                                    <label for="otp-code" class="form-label">One-Time Password</label>
                                    <input type="text" class="form-control text-center" id="otp-code" 
                                        maxlength="6" pattern="[0-9]{6}" required 
                                        placeholder="Enter 6-digit code">
                                    <div class="form-text">Check your email for the OTP. It expires in 10 minutes.</div>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary" id="verify-otp-btn">
                                        Verify OTP
                                    </button>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="#" id="resend-otp-link" onclick="resendOTP()">Resend OTP</a> | 
                                    <a href="#" onclick="loadContent('forgot-password')">Change Email</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password - Step 3: Reset Password -->
    <div id="reset-password" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-center">
                            <h3 class="mb-0"><i class="fas fa-lock me-2"></i>Create New Password</h3>
                        </div>
                        <div class="card-body">
                            <p class="text-center">Please enter your new password below.</p>
                            <form id="reset-password-form">
                                <input type="hidden" id="reset-user-id">
                                <input type="hidden" id="reset-token">
                                <div class="mb-3 password-input-group">
                                    <label for="new-password" class="form-label">New Password</label>
                                    <input type="password" class="form-control" id="new-password" required minlength="6">
                                    <span class="password-toggle" onclick="togglePasswordVisibility('new-password', this)">
                                        <i class="fas fa-eye"></i>
                                    </span>
                                    <div class="password-strength mt-1" id="new-password-strength"></div>
                                    <div class="invalid-feedback">Password must be at least 6 characters long.</div>
                                </div>
                                <div class="mb-3 password-input-group">
                                    <label for="confirm-new-password" class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" id="confirm-new-password" required>
                                    <span class="password-toggle" onclick="togglePasswordVisibility('confirm-new-password', this)">
                                        <i class="fas fa-eye"></i>
                                    </span>
                                    <div class="invalid-feedback">Passwords do not match.</div>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary" id="reset-password-btn">
                                        Reset Password
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Learning Resources Section -->
    <div id="resources" class="content-section">
        <div class="p-5 bg-white rounded shadow">
            <h2 class="mb-4"><i class="fas fa-book-open me-2"></i>Learning Resources</h2>
            <p class="lead">Enhance your skills with our curated collection of learning materials for different career fields.</p>
            
            <div class="row mt-4">
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h4 class="card-title">Engineering Resources</h4>
                            <p class="card-text">Comprehensive learning materials for various engineering disciplines.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Engineering Fundamentals</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Technical Problem-Solving</li>
                                    <li><i class="fas fa-project-diagram me-2 text-primary"></i> Design Principles</li>
                                    <li><i class="fas fa-calculator me-2 text-primary"></i> Mathematics for Engineers</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-user-md"></i>
                            </div>
                            <h4 class="card-title">Medical Resources</h4>
                            <p class="card-text">Study materials for medical and healthcare career paths.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Human Anatomy</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Medical Procedures</li>
                                    <li><i class="fas fa-stethoscope me-2 text-primary"></i> Diagnostic Methods</li>
                                    <li><i class="fas fa-pills me-2 text-primary"></i> Pharmacology Basics</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <h4 class="card-title">Law Resources</h4>
                            <p class="card-text">Legal education materials for aspiring lawyers and legal professionals.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Constitutional Law</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Court Procedures</li>
                                    <li><i class="fas fa-balance-scale me-2 text-primary"></i> Legal Ethics</li>
                                    <li><i class="fas fa-file-contract me-2 text-primary"></i> Contract Law</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h4 class="card-title">Defence Resources</h4>
                            <p class="card-text">Preparation materials for defence and national security careers.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Military Strategy</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Physical Training</li>
                                    <li><i class="fas fa-map me-2 text-primary"></i> Navigation Skills</li>
                                    <li><i class="fas fa-trophy me-2 text-primary"></i> Leadership Development</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-tractor"></i>
                            </div>
                            <h4 class="card-title">Agriculture Resources</h4>
                            <p class="card-text">Educational content for agricultural science and farming careers.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Crop Science</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Modern Farming Techniques</li>
                                    <li><i class="fas fa-seedling me-2 text-primary"></i> Soil Management</li>
                                    <li><i class="fas fa-truck me-2 text-primary"></i> Agricultural Economics</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-running"></i>
                            </div>
                            <h4 class="card-title">Sports Resources</h4>
                            <p class="card-text">Training and education materials for sports and fitness careers.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Sports Science</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Athletic Training</li>
                                    <li><i class="fas fa-dumbbell me-2 text-primary"></i> Fitness Principles</li>
                                    <li><i class="fas fa-heartbeat me-2 text-primary"></i> Sports Medicine</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-film"></i>
                            </div>
                            <h4 class="card-title">Entertainment Resources</h4>
                            <p class="card-text">Creative and technical resources for media and entertainment careers.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Media Production</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Acting Techniques</li>
                                    <li><i class="fas fa-music me-2 text-primary"></i> Music Theory</li>
                                    <li><i class="fas fa-paint-brush me-2 text-primary"></i> Visual Arts</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-4">
                    <div class="card resource-card h-100">
                        <div class="card-body text-center">
                            <div class="resource-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <h4 class="card-title">Academics Resources</h4>
                            <p class="card-text">Educational materials for teaching and research careers.</p>
                            <div class="mt-3">
                                <ul class="resource-list">
                                    <li><i class="fas fa-book me-2 text-primary"></i> Research Methods</li>
                                    <li><i class="fas fa-video me-2 text-primary"></i> Teaching Strategies</li>
                                    <li><i class="fas fa-chalkboard-teacher me-2 text-primary"></i> Classroom Management</li>
                                    <li><i class="fas fa-microscope me-2 text-primary"></i> Academic Writing</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer mt-5">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-4 mb-md-0">
                <h5><i class="fas fa-graduation-cap me-2"></i>Career Guider</h5>
                <p>Your trusted partner in career discovery and planning. We help students find their ideal career paths based on interests, skills, and goals.</p>
            </div>
            <div class="col-md-4 mb-4 mb-md-0">
                <h5>Quick Links</h5>
                <ul class="list-unstyled">
                    <li><a href="#" class="text-white text-decoration-none" onclick="loadContent('welcome-content')">Home</a></li>
                    <li><a href="#" class="text-white text-decoration-none" onclick="loadContent('about')">About Us</a></li>
                    <li><a href="#" class="text-white text-decoration-none" onclick="loadContent('interests')">Assessment</a></li>
                    <li><a href="#" class="text-white text-decoration-none" onclick="loadContent('opportunities')">Careers</a></li>
                    <li><a href="#" class="text-white text-decoration-none" onclick="loadContent('contact')">Contact</a></li>
                </ul>
            </div>
            <div class="col-md-4">
                <h5>Contact Info</h5>
                <ul class="list-unstyled">
                    <li><i class="fas fa-map-marker-alt me-2"></i> 123 Education Street, City, Country</li>
                    <li><i class="fas fa-phone me-2"></i> +1 (555) 123-4567</li>
                    <li><i class="fas fa-envelope me-2"></i> info@careerguider.com</li>
                </ul>
                <div class="mt-3">
                    <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <hr class="my-4" style="border-color: rgba(255,255,255,0.1);">
        <div class="text-center">
            <p class="mb-0">&copy; 2023 Career Guider. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // API Base URL
    const API_BASE = '/api';

    // Application state
    const appState = {
        isLoggedIn: false,
        currentUser: null,
        assessment: {
            currentQuestion: 0,
            answers: [],
            results: {}
        },
        careerFields: [
            { id: 'engineering', name: 'Engineering', score: 0, color: '#4e73df' },
            { id: 'medical', name: 'Medical', score: 0, color: '#1cc88a' },
            { id: 'law', name: 'Law', score: 0, color: '#36b9cc' },
            { id: 'defence', name: 'Defence', score: 0, color: '#f6c23e' },
            { id: 'agriculture', name: 'Agriculture', score: 0, color: '#e74a3b' },
            { id: 'sports', name: 'Sports', score: 0, color: '#858796' },
            { id: 'entertainment', name: 'Entertainment', score: 0, color: '#5a5c69' },
            { id: 'academics', name: 'Academics', score: 0, color: '#2e59d9' }
        ],
        questions: [
            // Engineering questions
            {
                id: 1,
                text: "How do you feel about solving complex technical problems?",
                field: 'engineering',
                options: [
                    { text: "I enjoy breaking down complex problems into manageable parts", value: 5 },
                    { text: "I prefer working on straightforward tasks with clear solutions", value: 2 },
                    { text: "I like creative problem-solving more than technical", value: 1 },
                    { text: "I prefer tasks that don't involve much problem-solving", value: 0 }
                ]
            },
            {
                id: 2,
                text: "What's your approach to learning new technology?",
                field: 'engineering',
                options: [
                    { text: "I actively seek out and master new technologies", value: 5 },
                    { text: "I learn when required but don't seek it out", value: 3 },
                    { text: "I prefer using familiar tools and avoid new technology", value: 1 },
                    { text: "I find technology confusing and avoid it when possible", value: 0 }
                ]
            },
            {
                id: 3,
                text: "How do you feel about mathematics and physics?",
                field: 'engineering',
                options: [
                    { text: "I enjoy applying mathematical concepts to real-world problems", value: 5 },
                    { text: "I can handle math when necessary but don't particularly enjoy it", value: 3 },
                    { text: "I prefer subjects that don't involve much math", value: 1 },
                    { text: "I actively avoid mathematical and scientific subjects", value: 0 }
                ]
            },
            
            // Medical questions
            {
                id: 4,
                text: "How do you react in emergency situations?",
                field: 'medical',
                options: [
                    { text: "I remain calm and focused, ready to help", value: 5 },
                    { text: "I get nervous but can still function effectively", value: 3 },
                    { text: "I tend to panic and look for someone else to take charge", value: 1 },
                    { text: "I avoid high-pressure situations whenever possible", value: 0 }
                ]
            },
            {
                id: 5,
                text: "How interested are you in human biology and health?",
                field: 'medical',
                options: [
                    { text: "Fascinated - I love learning about how the body works", value: 5 },
                    { text: "Moderately interested - it's useful knowledge", value: 3 },
                    { text: "Slightly interested - only when necessary", value: 1 },
                    { text: "Not interested - I prefer other subjects", value: 0 }
                ]
            },
            {
                id: 6,
                text: "How comfortable are you with providing care to others?",
                field: 'medical',
                options: [
                    { text: "Very comfortable - I enjoy helping and caring for people", value: 5 },
                    { text: "Comfortable when needed but not my preference", value: 3 },
                    { text: "Somewhat uncomfortable - I prefer less personal interaction", value: 1 },
                    { text: "Very uncomfortable - I avoid caregiving situations", value: 0 }
                ]
            },
            
            // Law questions
            {
                id: 7,
                text: "How do you approach debates and arguments?",
                field: 'law',
                options: [
                    { text: "I enjoy structured debates and presenting logical arguments", value: 5 },
                    { text: "I can argue my point when necessary but don't seek it out", value: 3 },
                    { text: "I prefer avoiding arguments and finding compromise", value: 1 },
                    { text: "I dislike arguments and confrontation of any kind", value: 0 }
                ]
            },
            {
                id: 8,
                text: "How important is justice and fairness to you?",
                field: 'law',
                options: [
                    { text: "Extremely important - I'm passionate about justice", value: 5 },
                    { text: "Important - I believe in fair treatment for all", value: 3 },
                    { text: "Somewhat important - but not a primary concern", value: 1 },
                    { text: "Not particularly important to me", value: 0 }
                ]
            },
            {
                id: 9,
                text: "How do you feel about extensive reading and research?",
                field: 'law',
                options: [
                    { text: "I enjoy deep research and analyzing complex documents", value: 5 },
                    { text: "I can do research when required but find it tedious", value: 3 },
                    { text: "I prefer tasks that don't involve much reading", value: 1 },
                    { text: "I avoid research and extensive reading whenever possible", value: 0 }
                ]
            },
            
            // Defence questions
            {
                id: 10,
                text: "How do you feel about discipline and structure?",
                field: 'defence',
                options: [
                    { text: "I thrive in structured environments with clear rules", value: 5 },
                    { text: "I can adapt to structure when necessary", value: 3 },
                    { text: "I prefer flexibility and minimal rules", value: 1 },
                    { text: "I dislike structure and prefer complete freedom", value: 0 }
                ]
            },
            {
                id: 11,
                text: "How important is serving your country to you?",
                field: 'defence',
                options: [
                    { text: "Extremely important - I'm passionate about national service", value: 5 },
                    { text: "Important - I believe in contributing to society", value: 3 },
                    { text: "Somewhat important - but not a primary motivation", value: 1 },
                    { text: "Not particularly important to me", value: 0 }
                ]
            },
            {
                id: 12,
                text: "How do you handle physical challenges?",
                field: 'defence',
                options: [
                    { text: "I enjoy physical challenges and pushing my limits", value: 5 },
                    { text: "I can handle physical tasks when necessary", value: 3 },
                    { text: "I prefer less physically demanding activities", value: 1 },
                    { text: "I avoid physical challenges whenever possible", value: 0 }
                ]
            },
            
            // Agriculture questions
            {
                id: 13,
                text: "How do you feel about working outdoors?",
                field: 'agriculture',
                options: [
                    { text: "I love being outdoors and working with nature", value: 5 },
                    { text: "I enjoy occasional outdoor work but prefer balance", value: 3 },
                    { text: "I prefer indoor environments most of the time", value: 1 },
                    { text: "I strongly dislike working outdoors", value: 0 }
                ]
            },
            {
                id: 14,
                text: "How interested are you in environmental sustainability?",
                field: 'agriculture',
                options: [
                    { text: "Extremely interested - it's a passion of mine", value: 5 },
                    { text: "Moderately interested - I support sustainability efforts", value: 3 },
                    { text: "Slightly interested - but not a priority", value: 1 },
                    { text: "Not particularly interested in sustainability", value: 0 }
                ]
            },
            {
                id: 15,
                text: "How do you feel about hands-on work with plants or animals?",
                field: 'agriculture',
                options: [
                    { text: "I enjoy hands-on work with living things", value: 5 },
                    { text: "I don't mind occasional hands-on work", value: 3 },
                    { text: "I prefer work that doesn't involve physical interaction", value: 1 },
                    { text: "I strongly dislike hands-on work with plants or animals", value: 0 }
                ]
            },
            
            // Sports questions
            {
                id: 16,
                text: "How important is physical fitness in your life?",
                field: 'sports',
                options: [
                    { text: "Extremely important - I prioritize fitness daily", value: 5 },
                    { text: "Important - I maintain regular exercise", value: 3 },
                    { text: "Somewhat important - I exercise occasionally", value: 1 },
                    { text: "Not important - I rarely engage in physical activity", value: 0 }
                ]
            },
            {
                id: 17,
                text: "How do you feel about competition?",
                field: 'sports',
                options: [
                    { text: "I thrive on competition and always strive to win", value: 5 },
                    { text: "I enjoy friendly competition but don't need to win", value: 3 },
                    { text: "I prefer cooperative activities over competitive ones", value: 1 },
                    { text: "I dislike competition and avoid competitive situations", value: 0 }
                ]
            },
            {
                id: 18,
                text: "How do you approach teamwork in physical activities?",
                field: 'sports',
                options: [
                    { text: "I enjoy being part of a team and collaborating", value: 5 },
                    { text: "I can work in a team when necessary", value: 3 },
                    { text: "I prefer individual activities over team sports", value: 1 },
                    { text: "I strongly dislike team-based physical activities", value: 0 }
                ]
            },
            
            // Entertainment questions
            {
                id: 19,
                text: "How do you express yourself creatively?",
                field: 'entertainment',
                options: [
                    { text: "I regularly engage in creative expression through various media", value: 5 },
                    { text: "I enjoy creativity but don't actively pursue it", value: 3 },
                    { text: "I prefer structured activities over creative ones", value: 1 },
                    { text: "I don't consider myself a creative person", value: 0 }
                ]
            },
            {
                id: 20,
                text: "How do you feel about performing in front of others?",
                field: 'entertainment',
                options: [
                    { text: "I love performing and being in the spotlight", value: 5 },
                    { text: "I'm comfortable performing when necessary", value: 3 },
                    { text: "I get nervous about performing but can manage", value: 1 },
                    { text: "I avoid performing in front of others at all costs", value: 0 }
                ]
            },
            {
                id: 21,
                text: "How interested are you in storytelling and narrative?",
                field: 'entertainment',
                options: [
                    { text: "Extremely interested - I love creating and analyzing stories", value: 5 },
                    { text: "Moderately interested - I enjoy good stories", value: 3 },
                    { text: "Slightly interested - but not a passion", value: 1 },
                    { text: "Not particularly interested in storytelling", value: 0 }
                ]
            },
            
            // Academics questions
            {
                id: 22,
                text: "How do you approach learning new information?",
                field: 'academics',
                options: [
                    { text: "I love learning for its own sake and constantly seek knowledge", value: 5 },
                    { text: "I learn when it's necessary for my goals", value: 3 },
                    { text: "I prefer practical skills over theoretical knowledge", value: 1 },
                    { text: "I don't enjoy learning new information unless forced", value: 0 }
                ]
            },
            {
                id: 23,
                text: "How do you feel about teaching or explaining concepts to others?",
                field: 'academics',
                options: [
                    { text: "I enjoy sharing knowledge and helping others learn", value: 5 },
                    { text: "I can explain things when asked but don't seek it out", value: 3 },
                    { text: "I find explaining concepts to others challenging", value: 1 },
                    { text: "I avoid teaching or explaining things to others", value: 0 }
                ]
            },
            {
                id: 24,
                text: "How important is intellectual stimulation to you?",
                field: 'academics',
                options: [
                    { text: "Extremely important - I need constant mental challenge", value: 5 },
                    { text: "Important - I enjoy intellectual activities", value: 3 },
                    { text: "Somewhat important - but not essential", value: 1 },
                    { text: "Not particularly important - I prefer practical concerns", value: 0 }
                ]
            },
            {
                id: 25,
                text: "How do you approach research and investigation?",
                field: 'academics',
                options: [
                    { text: "I enjoy deep investigation and uncovering new insights", value: 5 },
                    { text: "I can research when necessary for specific purposes", value: 3 },
                    { text: "I prefer straightforward answers over deep research", value: 1 },
                    { text: "I avoid research and prefer immediate solutions", value: 0 }
                ]
            }
        ]
    };

    // DOM elements
    const sidebar = document.getElementById('sidebar');
    const menuBtn = document.getElementById('menuBtn');
    const mainContent = document.getElementById('main-content');
    const contentSections = document.querySelectorAll('.content-section');
    const userStatusLoggedOut = document.querySelector('.user-status.logged-out');
    const userStatusLoggedIn = document.querySelector('.user-status.logged-in');
    const helpBtn = document.getElementById('helpBtn');
    const getStartedBtn = document.getElementById('getStartedBtn');

    // ==================== AUTHENTICATION FUNCTIONS ====================

    // Enhanced registration handler with backend integration
        // Fixed registration handler
    async function handleRegister(e) {
        e.preventDefault();
        console.log('Registration form submitted');
        
        // Get form values
        const firstName = document.getElementById('first-name').value.trim();
        const lastName = document.getElementById('last-name').value.trim();
        const email = document.getElementById('register-email').value.trim().toLowerCase();
        const password = document.getElementById('register-password').value;
        const confirmPassword = document.getElementById('confirm-password').value;
        const educationLevel = document.getElementById('education-level').value;
        const termsAccepted = document.getElementById('terms').checked;
        
        // Safely get interests
        let selectedInterests = [];
        const interestsSelect = document.getElementById('interests');
        if (interestsSelect && interestsSelect.selectedOptions) {
            try {
                selectedInterests = Array.from(interestsSelect.selectedOptions).map(option => option.value);
            } catch (error) {
                console.warn('Error getting selected interests:', error);
                selectedInterests = [];
            }
        }
        
        console.log('Form data:', { firstName, lastName, email, educationLevel, interests: selectedInterests });
        
        // Basic validation
        let isValid = true;
        
        // Reset validation states
        document.getElementById('first-name').classList.remove('is-invalid');
        document.getElementById('last-name').classList.remove('is-invalid');
        document.getElementById('register-email').classList.remove('is-invalid');
        document.getElementById('register-password').classList.remove('is-invalid');
        document.getElementById('confirm-password').classList.remove('is-invalid');
        document.getElementById('education-level').classList.remove('is-invalid');
        document.getElementById('terms').classList.remove('is-invalid');
        
        // Validate required fields
        if (!firstName) {
            document.getElementById('first-name').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!lastName) {
            document.getElementById('last-name').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!email) {
            document.getElementById('register-email').classList.add('is-invalid');
            isValid = false;
        } else {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('register-email').classList.add('is-invalid');
                isValid = false;
            }
        }
        
        if (!password || password.length < 6) {
            document.getElementById('register-password').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!confirmPassword || password !== confirmPassword) {
            document.getElementById('confirm-password').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!educationLevel) {
            document.getElementById('education-level').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!termsAccepted) {
            document.getElementById('terms').classList.add('is-invalid');
            isValid = false;
        }
        
        if (!isValid) {
            showToast('Please correct the errors in the form', 'error');
            return;
        }
        
        // Show loading state
        const submitBtn = document.getElementById('create-account-btn');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Creating...';
        submitBtn.disabled = true;
        
        try {
            const response = await fetch(`${API_BASE}/register`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    first_name: firstName,
                    last_name: lastName,
                    email: email,
                    password: password,
                    education_level: educationLevel,
                    interests: selectedInterests
                })
            });
            
            const data = await response.json();
            console.log('Registration response:', data);
            
            if (data.success) {
                appState.isLoggedIn = true;
                appState.currentUser = data.user;
                updateLoginStatus();
                updateProfileDisplay();
                showToast('Registration successful!', 'success');
                loadContent('interests');
                document.getElementById('register-form').reset();
            } else {
                showToast(data.message || 'Registration failed', 'error');
            }
        } catch (error) {
            console.error('Registration error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    // Enhanced login handler with backend integration
        // Enhanced API call function
    async function makeApiCall(url, options = {}) {
        const defaultOptions = {
            credentials: 'include',
            headers: {
                'Content-Type': 'application/json',
                ...options.headers
            }
        };
        
        try {
            const response = await fetch(url, { ...defaultOptions, ...options });
            return await response.json();
        } catch (error) {
            console.error('API call failed:', error);
            throw error;
        }
    }

    // Updated login function
    async function handleLogin(e) {
        e.preventDefault();
        
        const email = document.getElementById('login-email').value.trim().toLowerCase();
        const password = document.getElementById('login-password').value;
        
        if (!email || !password) {
            showToast('Please fill in all fields', 'error');
            return;
        }
        
        const submitBtn = document.querySelector('#login-form button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Logging in...';
        submitBtn.disabled = true;
        
        try {
            const data = await makeApiCall(`${API_BASE}/login`, {
                method: 'POST',
                body: JSON.stringify({ email, password })
            });
            
            if (data.success) {
                appState.isLoggedIn = true;
                appState.currentUser = data.user;
                updateLoginStatus();
                updateProfileDisplay();
                showToast('Login successful!', 'success');
                loadContent('welcome-content');
                document.getElementById('login-form').reset();
            } else {
                showToast(data.message || 'Login failed', 'error');
            }
        } catch (error) {
            console.error('Login error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }
    // Enhanced profile update handler
    async function handleProfileUpdate(e) {
        e.preventDefault();
        
        const firstName = document.getElementById('edit-first-name').value.trim();
        const lastName = document.getElementById('edit-last-name').value.trim();
        const email = document.getElementById('edit-email').value.trim().toLowerCase();
        const educationLevel = document.getElementById('edit-education-level').value;
        const interestsSelect = document.getElementById('edit-interests');
        const selectedInterests = Array.from(interestsSelect.selectedOptions).map(option => option.value);
        const bio = document.getElementById('edit-bio').value;
        
        // Validation
        if (!firstName || !lastName || !email || !educationLevel) {
            showToast('Please fill in all required fields', 'error');
            return;
        }
        
        try {
            const response = await fetch(`${API_BASE}/update-profile`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                credentials: 'include',
                body: JSON.stringify({
                    first_name: firstName,
                    last_name: lastName,
                    education_level: educationLevel,
                    interests: selectedInterests,
                    bio: bio
                })
            });
            
            const data = await response.json();
            
            if (data.success) {
                // Update local user data
                if (appState.currentUser) {
                    appState.currentUser.first_name = firstName;
                    appState.currentUser.last_name = lastName;
                    appState.currentUser.education_level = educationLevel;
                    appState.currentUser.interests = selectedInterests;
                    appState.currentUser.bio = bio;
                }
                
                showToast(data.message || 'Profile updated successfully!', 'success');
                loadContent('profile');
                updateProfileDisplay();
            } else {
                showToast(data.message || 'Profile update failed. Please try again.', 'error');
            }
        } catch (error) {
            console.error('Profile update error:', error);
            showToast('Profile update failed. Please check your connection and try again.', 'error');
        }
    }

    // Enhanced logout function
    async function logout() {
        try {
            const response = await fetch(`${API_BASE}/logout`, {
                method: 'POST',
                credentials: 'include'
            });
            
            appState.isLoggedIn = false;
            appState.currentUser = null;
            updateLoginStatus();
            showToast('You have been logged out', 'success');
            loadContent('welcome-content');
        } catch (error) {
            console.error('Logout error:', error);
            // Fallback: still update UI even if API call fails
            appState.isLoggedIn = false;
            appState.currentUser = null;
            updateLoginStatus();
            showToast('You have been logged out', 'success');
            loadContent('welcome-content');
        }
    }

    // Enhanced check login status
    async function checkLoginStatus() {
        try {
            const response = await fetch(`${API_BASE}/user`, {
                credentials: 'include'
            });
            
            if (response.ok) {
                const userData = await response.json();
                appState.isLoggedIn = true;
                appState.currentUser = userData;
                updateLoginStatus();
                updateProfileDisplay();
                
                // Load assessment results if available
                loadAssessmentResults();
            }
        } catch (error) {
            console.error('Error checking login status:', error);
            // User is not logged in, continue with default state
        }
    }

    // Save assessment results to backend
    async function saveAssessmentResults(results) {
        if (!appState.isLoggedIn) return;
        
        try {
            const response = await fetch(`${API_BASE}/save-assessment`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                credentials: 'include',
                body: JSON.stringify({
                    results: results
                })
            });
            
            const data = await response.json();
            if (data.success) {
                console.log('Assessment results saved successfully');
            }
        } catch (error) {
            console.error('Error saving assessment results:', error);
        }
    }

    // Load assessment results from backend
    async function loadAssessmentResults() {
        if (!appState.isLoggedIn) return;
        
        try {
            const response = await fetch(`${API_BASE}/get-assessment`, {
                credentials: 'include'
            });
            const data = await response.json();
            
            if (data.success && data.results) {
                // Update app state with saved results
                appState.assessment.results = data.results;
                
                // If we're on the interests page, display the results
                if (document.getElementById('interests').classList.contains('active')) {
                    displayResults();
                }
            }
        } catch (error) {
            console.error('Error loading assessment results:', error);
        }
    }

    // ==================== UI FUNCTIONS ====================

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
        // Check if user is logged in from backend
        checkLoginStatus();
        
        // Set up event listeners
        if (menuBtn) menuBtn.addEventListener('click', toggleSidebar);
        if (getStartedBtn) getStartedBtn.addEventListener('click', handleGetStarted);
        
        // Set up form submissions
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const contactForm = document.getElementById('contact-form');
        const editProfileForm = document.getElementById('edit-profile-form');
        const forgotPasswordForm = document.getElementById('forgot-password-form');
        
        if (loginForm) loginForm.addEventListener('submit', handleLogin);
        if (registerForm) registerForm.addEventListener('submit', handleRegister);
        if (contactForm) contactForm.addEventListener('submit', handleContact);
        if (editProfileForm) editProfileForm.addEventListener('submit', handleProfileUpdate);
        if (forgotPasswordForm) forgotPasswordForm.addEventListener('submit', handleForgotPassword);
        
        // Password strength indicator
        const registerPassword = document.getElementById('register-password');
        if (registerPassword) registerPassword.addEventListener('input', checkPasswordStrength);
        
        // Real-time form validation for registration
        if (registerForm) {
            registerForm.addEventListener('input', function(e) {
                validateField(e.target);
            });
        }
        
        // Password confirmation validation
        const confirmPassword = document.getElementById('confirm-password');
        if (confirmPassword) confirmPassword.addEventListener('input', validatePasswordMatch);
        
        // Initialize the assessment if needed
        initializeAssessment();
        
        console.log("Career Guider initialized successfully!");
    });

    // Toggle sidebar
    function toggleSidebar() {
        if (!sidebar) return;
        
        if (sidebar.style.width === '250px') {
            sidebar.style.width = '0';
            if (mainContent) mainContent.style.marginLeft = '0';
        } else {
            sidebar.style.width = '250px';
            if (mainContent) mainContent.style.marginLeft = '250px';
        }
    }

    // Load content section
    function loadContent(sectionId) {
        // Hide all content sections
        contentSections.forEach(section => {
            section.classList.remove('active');
        });
        
        // Show the selected section
        const targetSection = document.getElementById(sectionId);
        if (targetSection) {
            targetSection.classList.add('active');
            
            // Special handling for specific sections
            if (sectionId === 'profile') {
                updateProfileDisplay();
            } else if (sectionId === 'edit-profile') {
                populateEditProfileForm();
            } else if (sectionId === 'interests') {
                resetAssessment();
                // Load saved assessment results if available
                if (appState.assessment.results && Object.keys(appState.assessment.results).length > 0) {
                    displayResults();
                }
            }
        } else {
            console.error('Section not found:', sectionId);
            return;
        }
        
        // Close sidebar on mobile
        if (window.innerWidth < 768 && sidebar) {
            sidebar.style.width = '0';
            if (mainContent) mainContent.style.marginLeft = '0';
        }
        
        // Scroll to top
        window.scrollTo(0, 0);
    }

    // Update login status UI
    function updateLoginStatus() {
        if (!userStatusLoggedOut || !userStatusLoggedIn) return;
        
        if (appState.isLoggedIn) {
            userStatusLoggedOut.style.display = 'none';
            userStatusLoggedIn.style.display = 'flex';
            
            // Update navbar user name
            const navbarUserName = document.getElementById('navbar-user-name');
            if (navbarUserName && appState.currentUser) {
                navbarUserName.textContent = appState.currentUser.first_name || 'Profile';
            }
        } else {
            userStatusLoggedOut.style.display = 'flex';
            userStatusLoggedIn.style.display = 'none';
        }
    }

    // Handle Get Started button
    function handleGetStarted() {
        if (appState.isLoggedIn) {
            loadContent('interests');
        } else {
            loadContent('register');
        }
    }

    // Enhanced field validation
    function validateField(field) {
        if (!field) return;
        
        const value = field.value.trim();
        const fieldId = field.id;
        
        // Remove previous validation states
        field.classList.remove('is-valid', 'is-invalid');
        
        // Skip validation for empty required fields (will be handled on submit)
        if (field.hasAttribute('required') && value === '') {
            return;
        }
        
        // Field-specific validation
        switch(fieldId) {
            case 'first-name':
            case 'last-name':
                if (value.length < 2) {
                    field.classList.add('is-invalid');
                } else {
                    field.classList.add('is-valid');
                }
                break;
                
            case 'register-email':
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    field.classList.add('is-invalid');
                } else {
                    field.classList.add('is-valid');
                }
                break;
                
            case 'register-password':
                if (value.length < 6) {
                    field.classList.add('is-invalid');
                } else {
                    field.classList.add('is-valid');
                }
                break;
                
            case 'education-level':
                if (value === '') {
                    field.classList.add('is-invalid');
                } else {
                    field.classList.add('is-valid');
                }
                break;
        }
    }

    // Validate password match
    function validatePasswordMatch() {
        const password = document.getElementById('register-password');
        const confirmPassword = document.getElementById('confirm-password');
        
        if (!password || !confirmPassword) return;
        
        const passwordValue = password.value;
        const confirmValue = confirmPassword.value;
        
        confirmPassword.classList.remove('is-valid', 'is-invalid');
        
        if (confirmValue === '') {
            return;
        }
        
        if (passwordValue !== confirmValue) {
            confirmPassword.classList.add('is-invalid');
        } else {
            confirmPassword.classList.add('is-valid');
        }
    }

    // Handle contact form submission
    function handleContact(e) {
        e.preventDefault();
        
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const subject = document.getElementById('subject').value;
        const message = document.getElementById('message').value;
        
        // Validation
        if (!name || !email || !subject || !message) {
            showToast('Please fill in all fields', 'error');
            return;
        }
        
        // For demo purposes, we'll simulate sending the message
        // In a real application, this would be an API call
        showToast('Your message has been sent successfully! We will get back to you soon.', 'success');
        
        // Reset form
        document.getElementById('contact-form').reset();
    }
    // Forgot Password Functions
    let currentResetEmail = '';

    // Handle forgot password form submission
    async function handleForgotPassword(e) {
        e.preventDefault();
        const email = document.getElementById('reset-email').value.trim().toLowerCase();
        if (!email) {
            showToast('Please enter your email address', 'error');
            return;
        }
    const submitBtn = document.getElementById('send-otp-btn');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Sending...';
    submitBtn.disabled = true;
    
    try {
        const response = await fetch(`${API_BASE}/forgot-password`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email: email })
        });
        
        const data = await response.json();
        if (data.success) {
            currentResetEmail = email;
                if (data.user_id) {
                    document.getElementById('otp-user-id').value = data.user_id;
                    showToast('OTP sent to your email', 'success');
                    loadContent('verify-otp');
                
                    // Auto-focus OTP input
                    setTimeout(() => {
                        const otpInput = document.getElementById('otp-code');
                        if (otpInput) otpInput.focus();
                    }, 500);
                } else {
                    // For security, show success message even if email doesn't exist
                    showToast('If the email exists, an OTP has been sent', 'success');
                }
            } else {
                showToast(data.message || 'Failed to send OTP', 'error');
            }
        } catch (error) {
            console.error('Forgot password error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }

    // Handle OTP verification
    async function handleVerifyOTP(e) {
        e.preventDefault();
    
        const userId = document.getElementById('otp-user-id').value;
        const otp = document.getElementById('otp-code').value.trim();
    
        if (!otp || otp.length !== 6) {
            showToast('Please enter a valid 6-digit OTP', 'error');
            return;
        }
    
        const submitBtn = document.getElementById('verify-otp-btn');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Verifying...';
        submitBtn.disabled = true;
    
        try {
            const response = await fetch(`${API_BASE}/verify-otp`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 
                    user_id: userId, 
                    otp: otp 
                })
            });
        
            const data = await response.json();
        
            if (data.success) {
                document.getElementById('reset-user-id').value = userId;
                document.getElementById('reset-token').value = data.reset_token;
                showToast('OTP verified successfully', 'success');
                loadContent('reset-password');
            } else {
                showToast(data.message || 'Invalid OTP', 'error');
            }
        } catch (error) {
            console.error('Verify OTP error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }

    // Handle password reset
    async function handleResetPassword(e) {
        e.preventDefault();
    
        const userId = document.getElementById('reset-user-id').value;
        const resetToken = document.getElementById('reset-token').value;
        const newPassword = document.getElementById('new-password').value;
        const confirmPassword = document.getElementById('confirm-new-password').value;
    
        // Validation
        if (!newPassword || newPassword.length < 6) {
            showToast('Password must be at least 6 characters long', 'error');
            return;
        }
    
        if (newPassword !== confirmPassword) {
            showToast('Passwords do not match', 'error');
            return;
        }
    
        const submitBtn = document.getElementById('reset-password-btn');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Resetting...';
        submitBtn.disabled = true;
    
        try {
            const response = await fetch(`${API_BASE}/reset-password`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ 
                    user_id: userId,
                    reset_token: resetToken,
                    new_password: newPassword
                })
            });
        
            const data = await response.json();
        
            if (data.success) {
                showToast('Password reset successfully! You can now login with your new password.', 'success');
                loadContent('login');
            
                // Reset forms
                document.getElementById('forgot-password-form').reset();
                document.getElementById('verify-otp-form').reset();
                document.getElementById('reset-password-form').reset();
                currentResetEmail = '';
            } else {
                showToast(data.message || 'Failed to reset password', 'error');
            }
        } catch (error) {
            console.error('Reset password error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }

    // Resend OTP
    async function resendOTP() {
        if (!currentResetEmail) {
            showToast('Please start the password reset process again', 'error');
            loadContent('forgot-password');
            return;
        }
    
        const resendLink = document.getElementById('resend-otp-link');
        const originalText = resendLink.innerHTML;
        resendLink.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span> Resending...';
        resendLink.style.pointerEvents = 'none';
    
        try {
            const response = await fetch(`${API_BASE}/forgot-password`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ email: currentResetEmail })
            });
        
            const data = await response.json();
        
            if (data.success) {
                showToast('New OTP sent to your email', 'success');
            } else {
                showToast(data.message || 'Failed to resend OTP', 'error');
            }
        } catch (error) {
            console.error('Resend OTP error:', error);
            showToast('Network error. Please try again.', 'error');
        } finally {
            resendLink.innerHTML = originalText;
            resendLink.style.pointerEvents = 'auto';
        }
    }

    // Add password strength indicator for new password
    document.addEventListener('DOMContentLoaded', function() {
        const newPasswordInput = document.getElementById('new-password');
        if (newPasswordInput) {
            newPasswordInput.addEventListener('input', function() {
            checkPasswordStrength('new-password', 'new-password-strength');
            });
        }
    
    // Add form event listeners for new forms
    const forgotPasswordForm = document.getElementById('forgot-password-form');
    const verifyOtpForm = document.getElementById('verify-otp-form');
    const resetPasswordForm = document.getElementById('reset-password-form');
    
    if (forgotPasswordForm) forgotPasswordForm.addEventListener('submit', handleForgotPassword);
    if (verifyOtpForm) verifyOtpForm.addEventListener('submit', handleVerifyOTP);
    if (resetPasswordForm) resetPasswordForm.addEventListener('submit', handleResetPassword);
    
    // Add OTP input formatting
    const otpInput = document.getElementById('otp-code');
    if (otpInput) {
        otpInput.addEventListener('input', function(e) {
            // Only allow numbers
            e.target.value = e.target.value.replace(/\D/g, '');
            
            // Auto-submit when 6 digits are entered
            if (e.target.value.length === 6) {
                document.getElementById('verify-otp-btn').click();
            }
        });
    }
});

// Enhanced password strength checker
function checkPasswordStrength(inputId, strengthBarId) {
    const password = document.getElementById(inputId);
    if (!password) return;
    
    const passwordValue = password.value;
    const strengthBar = document.getElementById(strengthBarId);
    if (!strengthBar) return;
    
    if (passwordValue.length === 0) {
        strengthBar.className = 'password-strength';
        return;
    }
    
    let strength = 0;
    
    // Length check
    if (passwordValue.length >= 6) strength += 1;
    if (passwordValue.length >= 8) strength += 1;
    
    // Character variety checks
    if (/[a-z]/.test(passwordValue)) strength += 1;
    if (/[A-Z]/.test(passwordValue)) strength += 1;
    if (/[0-9]/.test(passwordValue)) strength += 1;
    if (/[^a-zA-Z0-9]/.test(passwordValue)) strength += 1;
    
    // Update strength bar
    if (strength <= 2) {
        strengthBar.className = 'password-strength weak';
    } else if (strength <= 4) {
        strengthBar.className = 'password-strength fair';
    } else if (strength <= 5) {
        strengthBar.className = 'password-strength good';
    } else {
        strengthBar.className = 'password-strength strong';
    }
}
    // Update profile display
    function updateProfileDisplay() {
        if (appState.currentUser) {
            // Update profile section
            const profileName = document.getElementById('profile-name');
            const profileEmail = document.getElementById('profile-email');
            const profileFullname = document.getElementById('profile-fullname');
            const profileEmailInfo = document.getElementById('profile-email-info');
            const profileEducation = document.getElementById('profile-education');
            const profileInterests = document.getElementById('profile-interests');
            
            if (profileName) profileName.textContent = `${appState.currentUser.first_name} ${appState.currentUser.last_name}`;
            if (profileEmail) profileEmail.textContent = appState.currentUser.email;
            if (profileFullname) profileFullname.textContent = `${appState.currentUser.first_name} ${appState.currentUser.last_name}`;
            if (profileEmailInfo) profileEmailInfo.textContent = appState.currentUser.email;
            if (profileEducation) profileEducation.textContent = appState.currentUser.education_level ? 
                appState.currentUser.education_level.charAt(0).toUpperCase() + appState.currentUser.education_level.slice(1) : 'Not specified';
            
            if (profileInterests && appState.currentUser.interests && appState.currentUser.interests.length > 0) {
                profileInterests.textContent = appState.currentUser.interests.join(', ');
            } else {
                profileInterests.textContent = 'No interests selected';
            }
            
            const memberSince = document.getElementById('member-since');
            if (memberSince && appState.currentUser.member_since) {
                memberSince.textContent = appState.currentUser.member_since;
            }
            
            // Update career recommendations based on assessment results
            updateCareerRecommendations();
        }
    }

    // Populate edit profile form
    function populateEditProfileForm() {
        if (appState.currentUser) {
            const editFirstName = document.getElementById('edit-first-name');
            const editLastName = document.getElementById('edit-last-name');
            const editEmail = document.getElementById('edit-email');
            const editEducationLevel = document.getElementById('edit-education-level');
            const editBio = document.getElementById('edit-bio');
            
            if (editFirstName) editFirstName.value = appState.currentUser.first_name || '';
            if (editLastName) editLastName.value = appState.currentUser.last_name || '';
            if (editEmail) editEmail.value = appState.currentUser.email || '';
            if (editEducationLevel) editEducationLevel.value = appState.currentUser.education_level || '';
            if (editBio) editBio.value = appState.currentUser.bio || '';
            
            // Update interests in edit form
            const editInterestsSelect = document.getElementById('edit-interests');
            if (editInterestsSelect && appState.currentUser.interests) {
                Array.from(editInterestsSelect.options).forEach(option => {
                    option.selected = appState.currentUser.interests.includes(option.value);
                });
            }
        }
    }

    // Update career recommendations
    function updateCareerRecommendations() {
        const careerMatchesContainer = document.getElementById('profile-career-matches');
        if (!careerMatchesContainer) return;
        
        if (appState.assessment.results && appState.assessment.results.topFields) {
            let recommendationsHTML = '';
            
            appState.assessment.results.topFields.forEach((field, index) => {
                const rank = index + 1;
                let description = '';
                let icon = '';
                
                switch(field.id) {
                    case 'engineering':
                        description = 'Engineering involves applying scientific and mathematical principles to design, build, and maintain structures, machines, and systems.';
                        icon = 'fas fa-cogs';
                        break;
                    case 'medical':
                        description = 'Medical careers focus on diagnosing, treating, and preventing illnesses and injuries to improve health and save lives.';
                        icon = 'fas fa-user-md';
                        break;
                    case 'law':
                        description = 'Law careers involve interpreting and applying laws, representing clients, and ensuring justice in legal matters.';
                        icon = 'fas fa-gavel';
                        break;
                    case 'defence':
                        description = 'Defence careers focus on protecting national security through military service, intelligence, and strategic planning.';
                        icon = 'fas fa-shield-alt';
                        break;
                    case 'agriculture':
                        description = 'Agriculture careers involve cultivating plants, raising animals, and managing natural resources for food production and sustainability.';
                        icon = 'fas fa-tractor';
                        break;
                    case 'sports':
                        description = 'Sports careers include athletic competition, coaching, training, and sports management for physical fitness and entertainment.';
                        icon = 'fas fa-running';
                        break;
                    case 'entertainment':
                        description = 'Entertainment careers focus on creating and performing artistic content for media, stage, and digital platforms.';
                        icon = 'fas fa-film';
                        break;
                    case 'academics':
                        description = 'Academic careers involve teaching, research, and knowledge creation in educational institutions and research organizations.';
                        icon = 'fas fa-graduation-cap';
                        break;
                }
                
                recommendationsHTML += `
                    <div class="career-match">
                        <h6><i class="${icon} career-field-icon"></i> ${field.name}</h6>
                        <p>Match score: <span class="field-score">${field.score}%</span></p>
                        <p>${description}</p>
                    </div>
                `;
            });
            
            careerMatchesContainer.innerHTML = recommendationsHTML;
        } else {
            careerMatchesContainer.innerHTML = `
                <div class="text-center py-4">
                    <i class="fas fa-clipboard-list fa-3x text-muted mb-3"></i>
                    <p>Complete the career assessment to get personalized recommendations</p>
                    <button class="btn btn-primary mt-2" onclick="loadContent('interests')">Take Assessment</button>
                </div>
            `;
        }
    }

    // Check password strength
    function checkPasswordStrength() {
        const password = document.getElementById('register-password');
        if (!password) return;
        
        const passwordValue = password.value;
        const strengthBar = document.getElementById('password-strength');
        if (!strengthBar) return;
        
        if (passwordValue.length === 0) {
            strengthBar.className = 'password-strength';
            return;
        }
        
        // Simple password strength calculation
        let strength = 0;
        
        // Length check
        if (passwordValue.length >= 6) strength += 1;
        if (passwordValue.length >= 8) strength += 1;
        
        // Character variety checks
        if (/[a-z]/.test(passwordValue)) strength += 1;
        if (/[A-Z]/.test(passwordValue)) strength += 1;
        if (/[0-9]/.test(passwordValue)) strength += 1;
        if (/[^a-zA-Z0-9]/.test(passwordValue)) strength += 1;
        
        // Update strength bar
        if (strength <= 2) {
            strengthBar.className = 'password-strength weak';
        } else if (strength <= 4) {
            strengthBar.className = 'password-strength fair';
        } else if (strength <= 5) {
            strengthBar.className = 'password-strength good';
        } else {
            strengthBar.className = 'password-strength strong';
        }
    }

    // Toggle password visibility
    function togglePasswordVisibility(inputId, toggleElement) {
        const input = document.getElementById(inputId);
        if (!input || !toggleElement) return;
        
        const icon = toggleElement.querySelector('i');
        if (!icon) return;
        
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }

    // Update profile picture
    function updateProfilePicture(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const profilePicture = document.getElementById('profile-picture');
                if (profilePicture) {
                    profilePicture.src = e.target.result;
                }
                // In a real application, you would upload this to the server
                showToast('Profile picture updated successfully!', 'success');
            };
            reader.readAsDataURL(file);
        }
    }

    // Show toast notification
    function showToast(message, type = 'info') {
        const toastContainer = document.querySelector('.toast-container');
        if (!toastContainer) return;
        
        const toastId = 'toast-' + Date.now();
        
        const toast = document.createElement('div');
        toast.className = `toast align-items-center text-white bg-${type === 'success' ? 'success' : type === 'error' ? 'danger' : 'primary'} border-0`;
        toast.setAttribute('role', 'alert');
        toast.setAttribute('aria-live', 'assertive');
        toast.setAttribute('aria-atomic', 'true');
        toast.id = toastId;
        
        toast.innerHTML = `
            <div class="d-flex">
                <div class="toast-body">
                    ${message}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        `;
        
        toastContainer.appendChild(toast);
        
        const bsToast = new bootstrap.Toast(toast, { delay: 3000 });
        bsToast.show();
        
        // Remove toast from DOM after it's hidden
        toast.addEventListener('hidden.bs.toast', function() {
            toast.remove();
        });
    }

    // ==================== ASSESSMENT FUNCTIONS ====================

    function initializeAssessment() {
        // Reset assessment state
        appState.assessment.currentQuestion = 0;
        appState.assessment.answers = [];
        
        // Reset career field scores
        appState.careerFields.forEach(field => {
            field.score = 0;
        });
    }

    function startAssessment() {
        if (!appState.isLoggedIn) {
            showToast('Please log in to take the assessment', 'error');
            loadContent('login');
            return;
        }
        
        loadContent('interests');
        showComprehensiveAssessment();
    }

    function showComprehensiveAssessment() {
        const assessmentContainer = document.getElementById('comprehensive-assessment-container');
        if (assessmentContainer) {
            assessmentContainer.style.display = 'block';
        }
        showQuestion(0);
    }

    function showQuestion(index) {
        const questionsContainer = document.getElementById('questions-container');
        const questionCounter = document.getElementById('question-counter');
        const progressBar = document.getElementById('assessment-progress');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        
        if (!questionsContainer || !questionCounter || !progressBar || !prevBtn || !nextBtn) return;
        
        // Update progress
        const progress = ((index + 1) / appState.questions.length) * 100;
        progressBar.style.width = `${progress}%`;
        progressBar.setAttribute('aria-valuenow', progress);
        
        // Update question counter
        questionCounter.textContent = `Question ${index + 1} of ${appState.questions.length}`;
        
        // Show/hide previous button
        if (index === 0) {
            prevBtn.style.display = 'none';
        } else {
            prevBtn.style.display = 'block';
        }
        
        // Update next button text for last question
        if (index === appState.questions.length - 1) {
            nextBtn.textContent = 'Finish Assessment';
        } else {
            nextBtn.textContent = 'Next';
        }
        
        // Get current question
        const question = appState.questions[index];
        
        // Create question HTML
        let questionHTML = `
            <div class="question-card active">
                <h5 class="mb-3">${question.text}</h5>
                <div class="options-container">
        `;
        
        question.options.forEach((option, optionIndex) => {
            const isSelected = appState.assessment.answers[index] === optionIndex;
            questionHTML += `
                <button type="button" class="btn option-btn ${isSelected ? 'selected' : ''}" 
                        onclick="selectOption(${index}, ${optionIndex})">
                    ${option.text}
                </button>
            `;
        });
        
        questionHTML += `
                </div>
            </div>
        `;
        
        questionsContainer.innerHTML = questionHTML;
    }

    function selectOption(questionIndex, optionIndex) {
        // Store the answer
        appState.assessment.answers[questionIndex] = optionIndex;
        
        // Update UI to show selected option
        const optionButtons = document.querySelectorAll('.option-btn');
        optionButtons.forEach((button, index) => {
            if (index === optionIndex) {
                button.classList.add('selected');
            } else {
                button.classList.remove('selected');
            }
        });
    }

    function nextQuestion() {
        const currentIndex = appState.assessment.currentQuestion;
        
        // Check if an option is selected
        if (appState.assessment.answers[currentIndex] === undefined) {
            showToast('Please select an option before proceeding', 'error');
            return;
        }
        
        // If this is the last question, calculate results
        if (currentIndex === appState.questions.length - 1) {
            calculateResults();
            return;
        }
        
        // Move to next question
        appState.assessment.currentQuestion++;
        showQuestion(appState.assessment.currentQuestion);
    }

    function prevQuestion() {
        if (appState.assessment.currentQuestion > 0) {
            appState.assessment.currentQuestion--;
            showQuestion(appState.assessment.currentQuestion);
        }
    }

    function calculateResults() {
        // Reset scores
        appState.careerFields.forEach(field => {
            field.score = 0;
        });
        
        // Calculate scores based on answers
        appState.assessment.answers.forEach((answerIndex, questionIndex) => {
            if (answerIndex !== undefined) {
                const question = appState.questions[questionIndex];
                const selectedOption = question.options[answerIndex];
                
                // Add points to the field this question belongs to
                const careerField = appState.careerFields.find(f => f.id === question.field);
                if (careerField) {
                    careerField.score += selectedOption.value;
                }
            }
        });
        
        // Sort fields by score (descending)
        appState.careerFields.sort((a, b) => b.score - a.score);
        
        // Store results
        appState.assessment.results = {
            topFields: appState.careerFields.slice(0, 3),
            allFields: [...appState.careerFields],
            calculatedAt: new Date().toISOString()
        };
        
        // Save to backend
        saveAssessmentResults(appState.assessment.results);
        
        // Display results
        displayResults();
    }

    function displayResults() {
        // Hide assessment container and show results
        const assessmentContainer = document.getElementById('comprehensive-assessment-container');
        const resultsContainer = document.getElementById('assessment-results');
        
        if (assessmentContainer) assessmentContainer.style.display = 'none';
        if (resultsContainer) resultsContainer.style.display = 'block';
        
        const visualizationContainer = document.getElementById('results-visualization');
        const resultsContent = document.getElementById('results-container');
        
        if (!visualizationContainer || !resultsContent) return;
        
        // Clear previous results
        visualizationContainer.innerHTML = '';
        resultsContent.innerHTML = '';
        
        // Create visualization bars
        appState.careerFields.forEach(field => {
            // Calculate bar height as percentage of max score
            const maxScore = Math.max(...appState.careerFields.map(f => f.score));
            const barHeight = maxScore > 0 ? (field.score / maxScore) * 100 : 0;
            
            const fieldBar = document.createElement('div');
            fieldBar.className = 'field-bar';
            fieldBar.innerHTML = `
                <div class="bar-container">
                    <div class="bar" style="height: ${barHeight}%"></div>
                </div>
                <div class="field-label">${field.name}</div>
                <div class="field-score">${field.score}</div>
            `;
            visualizationContainer.appendChild(fieldBar);
        });
        
        // Create result cards for top fields
        appState.assessment.results.topFields.forEach((field, index) => {
            const rank = index + 1;
            const resultCard = document.createElement('div');
            resultCard.className = 'career-match';
            
            let description = '';
            let icon = '';
            
            switch(field.id) {
                case 'engineering':
                    description = 'Engineering involves applying scientific and mathematical principles to design, build, and maintain structures, machines, and systems.';
                    icon = 'fas fa-cogs';
                    break;
                case 'medical':
                    description = 'Medical careers focus on diagnosing, treating, and preventing illnesses and injuries to improve health and save lives.';
                    icon = 'fas fa-user-md';
                    break;
                case 'law':
                    description = 'Law careers involve interpreting and applying laws, representing clients, and ensuring justice in legal matters.';
                    icon = 'fas fa-gavel';
                    break;
                case 'defence':
                    description = 'Defence careers focus on protecting national security through military service, intelligence, and strategic planning.';
                    icon = 'fas fa-shield-alt';
                    break;
                case 'agriculture':
                    description = 'Agriculture careers involve cultivating plants, raising animals, and managing natural resources for food production and sustainability.';
                    icon = 'fas fa-tractor';
                    break;
                case 'sports':
                    description = 'Sports careers include athletic competition, coaching, training, and sports management for physical fitness and entertainment.';
                    icon = 'fas fa-running';
                    break;
                case 'entertainment':
                    description = 'Entertainment careers focus on creating and performing artistic content for media, stage, and digital platforms.';
                    icon = 'fas fa-film';
                    break;
                case 'academics':
                    description = 'Academic careers involve teaching, research, and knowledge creation in educational institutions and research organizations.';
                    icon = 'fas fa-graduation-cap';
                    break;
            }
            
            resultCard.innerHTML = `
                <h6><i class="${icon} career-field-icon"></i> ${field.name}</h6>
                <p>Match score: <span class="field-score">${field.score}%</span></p>
                <p>${description}</p>
            `;
            
            resultsContent.appendChild(resultCard);
        });
        
        // Show quiz navigation for top field
        showQuizNavigation();
    }

    // Show quiz navigation for top fields
    function showQuizNavigation() {
        const quizNavigation = document.getElementById('quiz-navigation');
        const quizButtonsContainer = document.getElementById('quiz-buttons-container');
        
        if (!quizNavigation || !quizButtonsContainer) return;
        
        // Clear previous buttons
        quizButtonsContainer.innerHTML = '';
        
        // Add quiz buttons for top fields
        appState.assessment.results.topFields.forEach(field => {
            const fieldName = field.name;
            const quizUrl = getQuizFile(field.id);
            
            const quizButton = document.createElement('button');
            quizButton.className = 'btn btn-primary quiz-btn';
            quizButton.innerHTML = `<i class="${getFieldIcon(field.id)} me-2"></i> ${fieldName} Quiz`;
            quizButton.onclick = function() {
                window.location.href = quizUrl;
            };
            quizButtonsContainer.appendChild(quizButton);
        });
        
        // Show the quiz navigation section
        quizNavigation.style.display = 'block';
    }

    // Map fields to quiz files
    function getQuizFile(field) {
        const quizFiles = {
            "engineering": "/eng_quiz",
            "medical": "/med_quiz", 
            "law": "/law_quiz",
            "defence": "/def_quiz",
            "agriculture": "/agr_quiz",
            "sports": "/spo_quiz",
            "entertainment": "/ent_quiz",
            "academics": "/aca_quiz"
        };
        return quizFiles[field] || "#";
    }

    // Helper function to get field icon
    function getFieldIcon(field) {
        const icons = {
            "engineering": "fas fa-cogs",
            "medical": "fas fa-user-md",
            "law": "fas fa-gavel",
            "defence": "fas fa-shield-alt",
            "agriculture": "fas fa-tractor",
            "sports": "fas fa-running",
            "entertainment": "fas fa-film",
            "academics": "fas fa-graduation-cap"
        };
        return icons[field] || "fas fa-briefcase";
    }

    function resetAssessment() {
        initializeAssessment();
        const assessmentContainer = document.getElementById('comprehensive-assessment-container');
        const resultsContainer = document.getElementById('assessment-results');
        
        if (assessmentContainer) assessmentContainer.style.display = 'none';
        if (resultsContainer) resultsContainer.style.display = 'none';
    }

    function showCareerDetails(field) {
        const careerTitle = document.getElementById('career-title');
        const careerInfo = document.getElementById('career-info');
        const careerDetails = document.getElementById('career-details');
        
        if (!careerTitle || !careerInfo || !careerDetails) return;
        
        let title = '';
        let info = '';
        
        switch(field) {
            case 'engineering':
                title = 'Engineering Careers';
                info = `
                    <h6>Career Paths in Engineering:</h6>
                    <ul>
                        <li><strong>Civil Engineering:</strong> Design and construction of infrastructure like bridges, roads, and buildings.</li>
                        <li><strong>Mechanical Engineering:</strong> Design and development of mechanical systems and machines.</li>
                        <li><strong>Electrical Engineering:</strong> Work with electrical systems, electronics, and power generation.</li>
                        <li><strong>Software Engineering:</strong> Design, develop, and maintain software applications and systems.</li>
                        <li><strong>Chemical Engineering:</strong> Process design and operation for chemical manufacturing.</li>
                    </ul>
                    <h6>Educational Requirements:</h6>
                    <p>Most engineering positions require at least a bachelor's degree in engineering. Specialized roles may require master's or doctoral degrees.</p>
                    <h6>Salary Range:</h6>
                    <p>Entry-level: $60,000 - $80,000 | Experienced: $90,000 - $150,000+</p>
                    <h6>Growth Outlook:</h6>
                    <p>Engineering fields are expected to grow 4-7% over the next decade, with higher growth in software and renewable energy sectors.</p>
                `;
                break;
            case 'medical':
                title = 'Medical Careers';
                info = `
                    <h6>Career Paths in Medicine:</h6>
                    <ul>
                        <li><strong>General Physician:</strong> Primary care doctor diagnosing and treating common illnesses.</li>
                        <li><strong>Surgeon:</strong> Perform operations to treat diseases, injuries, and deformities.</li>
                        <li><strong>Pediatrician:</strong> Specialize in medical care for infants, children, and adolescents.</li>
                        <li><strong>Cardiologist:</strong> Diagnose and treat heart conditions and diseases.</li>
                        <li><strong>Neurologist:</strong> Specialize in disorders of the nervous system.</li>
                    </ul>
                    <h6>Educational Requirements:</h6>
                    <p>Medical careers require extensive education including bachelor's degree, medical school (4 years), and residency (3-7 years).</p>
                    <h6>Salary Range:</h6>
                    <p>Resident: $50,000 - $70,000 | Practicing Physician: $180,000 - $400,000+</p>
                    <h6>Growth Outlook:</h6>
                    <p>Healthcare occupations are projected to grow 13% from 2021 to 2031, much faster than the average for all occupations.</p>
                `;
                break;
            // Add cases for other fields as needed
            default:
                title = `${field.charAt(0).toUpperCase() + field.slice(1)} Careers`;
                info = `
                    <p>Detailed information about ${field} careers would be displayed here.</p>
                    <p>This would include specific job roles, educational requirements, salary information, and growth outlook.</p>
                    <p>In a complete implementation, this section would be populated with accurate data for each career field.</p>
                `;
        }
        
        careerTitle.textContent = title;
        careerInfo.innerHTML = info;
        careerDetails.style.display = 'block';
        
        // Scroll to career details
        careerDetails.scrollIntoView({ behavior: 'smooth' });
    }

    function hideCareerDetails() {
        const careerDetails = document.getElementById('career-details');
        if (careerDetails) {
            careerDetails.style.display = 'none';
        }
    }
</script>

</body>
</html>